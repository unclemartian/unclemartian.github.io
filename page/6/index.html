<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo Blog of Uncle Martian">
<meta property="og:url" content="http://yoursite.com/page/6/index.html">
<meta property="og:site_name" content="Hexo Blog of Uncle Martian">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Uncle Martian">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Hexo Blog of Uncle Martian</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo Blog of Uncle Martian</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">a crypto journey</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/05/14/learn%20technology/ssh-keys-github/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Uncle Martian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Blog of Uncle Martian">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/05/14/learn%20technology/ssh-keys-github/" class="post-title-link" itemprop="url">SSH keys setup for GitHub</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-05-14 00:00:00" itemprop="dateCreated datePublished" datetime="2015-05-14T00:00:00+00:00">2015-05-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-09-11 20:10:24" itemprop="dateModified" datetime="2021-09-11T20:10:24+00:00">2021-09-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Setup-for-the-first-Github"><a href="#Setup-for-the-first-Github" class="headerlink" title="Setup for the first Github"></a>Setup for the first Github</h1><p>This is the standard procedure for generating SSH and connect to GitHub:</p>
<p>check current SSH:</p>
<pre><code>ls -al ~/.ssh</code></pre><p>generate new:</p>
<pre><code>ssh-keygen -t rsa -b 4096 -C &quot;theimmortalfish@gmail.com&quot;</code></pre><p>(-t for type, -b for number of bits, -C for comment)</p>
<p><strong>then press Enter</strong>, then set passphrase.</p>
<p>set SSH-agent:</p>
<pre><code>eval &quot;$(ssh-agent -s)&quot;
ssh-add ~/.ssh/id_rsa</code></pre><p>add SSH to GitHub:</p>
<pre><code>pbcopy &lt; ~/.ssh/id_rsa.pub</code></pre><p>put it into GitHub settings</p>
<p>test SSH:</p>
<pre><code>ssh -T git@github.com</code></pre><h1 id="Setup-for-the-second-Github"><a href="#Setup-for-the-second-Github" class="headerlink" title="Setup for the second Github"></a>Setup for the second Github</h1><h2 id="generate-a-second-SSH-key"><a href="#generate-a-second-SSH-key" class="headerlink" title="generate a second SSH key"></a>generate a second SSH key</h2><p>Same steps untli the “<strong>then press Enter</strong>“, we’ll instead give it another name like “id_rsa_fish”:</p>
<pre><code>Fishs-MacBook-Pro:.ssh Fish$ ssh-keygen -t rsa -b 4096 -C &quot;theimmortalfish@gmail.com&quot;
Generating public/private rsa key pair.
Enter file in which to save the key (/Users/Fish/.ssh/id_rsa): id_rsa_fish
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in id_rsa_fish.
Your public key has been saved in id_rsa_fish.pub.
The key fingerprint is:
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx theimmortalfish@gmail.com
The key&apos;s randomart image is:
+--[ RSA 4096]----+
|       xxxxx     |
|       xxxxx     |
|       xxxxx     |
|       xxxxx     |
|       xxxxx     |
|       xxxxx     |
|       xxxxx     |
|       xxxxx     |
|       xxxxx     |
+-----------------+
Fishs-MacBook-Pro:.ssh Fish$ ls -al ~/.ssh/
total 40
drwx------   7 Fish  staff   238 May 14 12:43 .
drwxr-xr-x+ 45 Fish  staff  1530 May 13 23:01 ..
-rw-------   1 Fish  staff  1766 Jul 28  2014 id_rsa
-rw-r--r--   1 Fish  staff   402 Jul 28  2014 id_rsa.pub
-rw-------   1 Fish  staff  3326 May 14 12:43 id_rsa_fish
-rw-r--r--   1 Fish  staff   751 May 14 12:43 id_rsa_fish.pub
-rw-r--r--   1 Fish  staff  2828 May 13 22:47 known_hosts</code></pre><p>Again, we’ll do</p>
<pre><code>eval &quot;$(ssh-agent -s)&quot;
ssh-add ~/.ssh/id_rsa_fish</code></pre><p>And also, add public key to the second GitHub account. </p>
<h2 id="SSH-configuration"><a href="#SSH-configuration" class="headerlink" title="SSH configuration"></a>SSH configuration</h2><p>Now this is the key step: go to .ssh folder and <strong>create a config file</strong>: </p>
<pre><code>touch config</code></pre><p>And put in the following configuration:</p>
<pre><code>Host github-old
  HostName github.com
  User git
  IdentityFile ~/.ssh/id_rsa

Host github.com
  HostName github.com
  User git
  IdentityFile ~/.ssh/id_rsa_fish</code></pre><p>Depending on your preference, change one of the host from “github.com” to some other names. In my case, I give the name “github-old” to my first SSH, and the second one would just stay the same (cuz I use the second GitHub more frequently). </p>
<p>The next step is the most important!</p>
<h2 id="configure-ssh-agent"><a href="#configure-ssh-agent" class="headerlink" title="configure ssh-agent"></a>configure ssh-agent</h2><p>Now restart your ssh-agent:</p>
<pre><code>killall ssh-agent; eval `ssh-agent -s`</code></pre><p>Now if you give it a try, you notice something fishy:</p>
<pre><code>ssh -T git@github.com

ssh -T git@github-old</code></pre><p>You notice that only the default SSH key (id_rsa) is being used. You are essentially querying the same GitHub account. </p>
<p><strong>This is wrong</strong>. Because we have not added both SSH keys to ssh-agent yet. Immediately, do this: </p>
<pre><code>ssh-add ~/.ssh/id_rsa_fish

ssh-add ~/.ssh/id_rsa</code></pre><p>Now if you test connection again, you shall see no problem. </p>
<h2 id="Last-step-change-remote-url"><a href="#Last-step-change-remote-url" class="headerlink" title="Last step, change remote url"></a>Last step, change remote url</h2><p>The last step is to make changes to the git repository so that your computer works with both GitHub account. </p>
<p>Whenever we clone or “remote add origin”, we shall replace “github-old” with “github.com” in the remote url. </p>
<p>Example: go to your first GitHub account and create a new repo called “hello”. Then,</p>
<pre><code>mkdir hello
cd hello
git init
git remote add origin git@github-old:old-name/hello.git
touch testing-file.txt
git add .
git commit -m &apos;first commit&apos;
git push origin master</code></pre><p>You should see it works fine. Notice how we changed the remote url from “github.com” to “github-old”, which matches our host configuration in the .ssh folder. </p>
<p>Your second GitHub shall work just like a normal GitHub account. 3 hours of hard work, all done! </p>
<p>Thanks to <a target="_blank" rel="noopener" href="http://code.tutsplus.com/tutorials/how-to-work-with-github-and-multiple-accounts--net-22574">Jeffrey Way from tutsplus.com</a> for the nice tutorial. </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/04/30/learn%20technology/nginx/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Uncle Martian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Blog of Uncle Martian">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/04/30/learn%20technology/nginx/" class="post-title-link" itemprop="url">Nginx tutorial</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-04-30 00:00:00" itemprop="dateCreated datePublished" datetime="2015-04-30T00:00:00+00:00">2015-04-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-09-11 20:10:24" itemprop="dateModified" datetime="2021-09-11T20:10:24+00:00">2021-09-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>nginx [engine x] is <strong>an HTTP and reverse proxy server</strong>, a mail proxy server, and a generic TCP proxy server. </p>
<p>For a long time, it has been running on many heavily loaded Russian sites, and recently, Netflix, Wordpress.com. </p>
<p>Ref: <a target="_blank" rel="noopener" href="http://nginx.org/en/">nginx</a></p>
<p><strong>nginx has one master process and several worker processes</strong>. The main purpose of the master process is to read and evaluate configuration, and maintain worker processes. Worker processes do actual processing of requests. </p>
<h1 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h1><h2 id="start-nginx"><a href="#start-nginx" class="headerlink" title="start nginx"></a>start nginx</h2><pre><code>nginx</code></pre><h2 id="stop-nginx"><a href="#stop-nginx" class="headerlink" title="stop nginx"></a>stop nginx</h2><pre><code>nginx -s signal</code></pre><p>signal: </p>
<ol>
<li><p>stop — fast shutdown</p>
</li>
<li><p>quit — graceful shutdown</p>
</li>
<li><p>reload — reloading the configuration file</p>
</li>
<li><p>reopen — reopening the log files</p>
</li>
</ol>
<h2 id="List-of-running-nginx-process"><a href="#List-of-running-nginx-process" class="headerlink" title="List of running nginx process"></a>List of running nginx process</h2><pre><code>ps -ax | grep nginx</code></pre><h1 id="config-file：-nginx-conf"><a href="#config-file：-nginx-conf" class="headerlink" title="config file： nginx.conf"></a>config file： nginx.conf</h1><p><strong>nginx.conf</strong></p>
<p>By default, the configuration file is placed in <strong>/etc/nginx</strong>. (If not, check /usr/local/nginx/conf, or /usr/local/etc/nginx.)</p>
<h2 id="first-part"><a href="#first-part" class="headerlink" title="first part"></a>first part</h2><pre><code>user www-data;
worker_processes 4;
pid /run/nginx.pid;

events &#123;
    worker_connections 768;
    # multi_accept on;
&#125;</code></pre><ol>
<li><p>user</p>
<p> Defines which Linux system user will own and run the Nginx server. Most Debian-based distributions use www-data</p>
<p> In case you run two simultaneous web servers, or need another program’s user to have control over Nginx, you can play with it.</p>
</li>
<li><p>worker_process</p>
<p> Defines how many threads, or simultaneous instances, of Nginx to run. </p>
</li>
<li><p>pid</p>
<p> Defines where Nginx will write its master process ID, or PID. </p>
<blockquote>
<p>On my machine, the file /run/nginx.pid store a single number 724. </p>
</blockquote>
</li>
</ol>
<h2 id="http-part"><a href="#http-part" class="headerlink" title="http part"></a>http part</h2><pre><code>http &#123;

    ##
    # Basic Settings
    ##

    sendfile on;
    tcp_nopush on;
    tcp_nodelay on;
    keepalive_timeout 65;
    types_hash_max_size 2048;
    # server_tokens off;

    # server_names_hash_bucket_size 64;
    # server_name_in_redirect off;

    include /etc/nginx/mime.types;
    default_type application/octet-stream;

    ##
    # Logging Settings
    ##

    access_log /var/log/nginx/access.log;
    error_log /var/log/nginx/error.log;

    ##
    # Gzip Settings
    ##

    gzip on;
    gzip_disable &quot;msie6&quot;;

    # gzip_vary on;
    # gzip_proxied any;
    # gzip_comp_level 6;
    # gzip_buffers 16 8k;
    # gzip_http_version 1.1;
    # gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;

    ##
    # nginx-naxsi config
    ##
    # Uncomment it if you installed nginx-naxsi
    ##

    #include /etc/nginx/naxsi_core.rules;

    ##
    # nginx-passenger config
    ##
    # Uncomment it if you installed nginx-passenger
    ##

    #passenger_root /usr;
    #passenger_ruby /usr/bin/ruby;

    ##
    # Virtual Host Configs
    ##

    include /etc/nginx/conf.d/*.conf;
    include /etc/nginx/sites-enabled/*;
&#125;</code></pre><p>Note: The HTTP block of the nginx.conf file contains the statement include <strong>/etc/nginx/sites-enabled/*;</strong>. This allows for server block configurations to be loaded in from separate files found in <strong>the sites-enabled sub-directory</strong>. </p>
<p>Usually these are <strong>symlinks to files stored in /etc/nginx/sites-available/</strong>. By using symlinks you can quickly enable or disable a virtual server while preserving its configuration file. </p>
<h1 id="config-file-for-sites"><a href="#config-file-for-sites" class="headerlink" title="config file for sites"></a>config file for sites</h1><h2 id="sites-available"><a href="#sites-available" class="headerlink" title="sites-available"></a>sites-available</h2><p><strong>/etc/nginx/sites-available/default</strong> is a template provided for you. </p>
<pre><code>server &#123;
        listen 80 default_server;
        listen [::]:80 default_server ipv6only=on;

        root /usr/share/nginx/html;
        index index.html index.htm;

        # Make site accessible from http://localhost/
        server_name localhost;

        location / &#123;
                # First attempt to serve request as file, then
                # as directory, then fall back to displaying a 404.
                try_files $uri $uri/ /index.html;
                # Uncomment to enable naxsi on this location
                # include /etc/nginx/naxsi.rules
        &#125;
&#125;</code></pre><p><strong>Do not modify this file</strong>. Generally, you’ll want to make a separate file with its own server block for each virtual domain on your server.  So do: </p>
<pre><code>cp /etc/nginx/sites-available/default /etc/nginx/sites-available/example.com</code></pre><h2 id="listen-directive"><a href="#listen-directive" class="headerlink" title="listen directive"></a>listen directive</h2><pre><code>listen 80 default_server;
listen [::]:80 default_server ipv6only=on;</code></pre><p>The argument <strong>default_server</strong> means this virtual host will answer requests on port 80 that don’t match any other virtual host’s listen statement. </p>
<p>The second statement listens over IPv6 and behaves in the same way.</p>
<pre><code>listen     127.0.0.1:80;
listen     localhost:80;</code></pre><p>Note: localhost is conventionally set as the hostname for 127.0.0.1 in /etc/hosts.</p>
<pre><code>listen     80;
listen     *:80;</code></pre><p>This will listen on all domains and IP addresses on port 80. <strong>listen 80;</strong> is equivalent to <strong>listen *:80;</strong></p>
<pre><code>listen     12.34.56.77:80;
listen     12.34.56.78:80;
listen     12.34.56.79:80;       
listen     12.34.56.79:8080;       </code></pre><p>This will listen on multiple IP/port. </p>
<h2 id="server-name-directive"><a href="#server-name-directive" class="headerlink" title="server_name directive"></a>server_name directive</h2><p>Common:</p>
<pre><code>server_name   example.com;</code></pre><p>Or</p>
<pre><code>server_name   example.com www.example.com;</code></pre><p>Now this:</p>
<pre><code>server_name   *.example.com;
server_name   .example.com;</code></pre><p>will listen to all subdomains of example.com, including <a target="_blank" rel="noopener" href="http://www.example.com">www.example.com</a>, foo.example.com, etc. <strong>Both equivalent</strong>.</p>
<pre><code>server_name   &quot;&quot;;</code></pre><p>If you set server_name to the empty quote set (”“), Nginx will process <strong>all requests that either</strong> do not have a hostname, <strong>or</strong> that have an unspecified hostname, such as requests for the IP address itself.</p>
<h2 id="location-directive"><a href="#location-directive" class="headerlink" title="location directive"></a>location directive</h2><p><strong>location</strong> setting lets you configure how Nginx will respond to requests for resources within the server.</p>
<p>eg. </p>
<pre><code>location / &#123; &#125; 
location /images/ &#123; &#125; 
location /blog/ &#123; &#125; 
location /planet/ &#123; &#125; 
location /planet/blog/ &#123; &#125;</code></pre><p>The location can set actual path in the file system (that is under /etc/nginx/ folder). Or we can also set <strong>proxy_pass</strong> directive. </p>
<p>Ref 1: <a target="_blank" rel="noopener" href="http://nginx.org/en/docs/beginners_guide.html">nginx Beginner’s Guide</a></p>
<p>Ref 2: <a target="_blank" rel="noopener" href="https://www.linode.com/docs/websites/nginx/basic-nginx-configuration#location-root-and-index">Basic Nginx Configuration by Linode</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/04/28/learn%20technology/linux-directory/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Uncle Martian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Blog of Uncle Martian">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/04/28/learn%20technology/linux-directory/" class="post-title-link" itemprop="url">Linux Directory Structure</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-04-28 00:00:00" itemprop="dateCreated datePublished" datetime="2015-04-28T00:00:00+00:00">2015-04-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-09-11 20:10:24" itemprop="dateModified" datetime="2021-09-11T20:10:24+00:00">2021-09-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><h2 id="a-brief-introduction"><a href="#a-brief-introduction" class="headerlink" title="a brief introduction"></a>a brief introduction</h2><ol>
<li>bin - user binary</li>
<li>boot - boot loader</li>
<li>dev - device (manipulate your hard drives)</li>
<li>etc - config files</li>
<li>home - user home dir except root</li>
<li>initrd.img </li>
<li>lib - system library</li>
<li>lib64</li>
<li>lost+found</li>
<li>media - removable devices (CD, USB etc)</li>
<li>mnt - mount file systems</li>
<li>opt - optional (eg. desktop environment)</li>
<li>proc - process info</li>
<li>root - root user’s home</li>
<li>run</li>
<li>sbin - system binary (runnable only by root)</li>
<li>srv - service data</li>
<li>sys</li>
<li>tmp - temporary (delete on restart)</li>
<li>usr - Unix System Resources (user programs)<ol>
<li>usr/bin - user programs</li>
<li>usr/lib - user system lib</li>
<li>usr/local -  programs that’s <strong>manually compiled</strong> rather than install from package</li>
<li>usr/sbin - root programs</li>
</ol>
</li>
<li>var - variables, application data (eg. MySQL db, cached files)</li>
</ol>
<p>Reference: <cite>Linux Directory Structure (File System Structure) Explained with Examples</cite><a target="_blank" rel="noopener" href="http://www.thegeekstuff.com/2010/09/linux-file-system-structure/">1</a></p>
<h1 id="Some-important-folders"><a href="#Some-important-folders" class="headerlink" title="Some important folders"></a>Some important folders</h1><h2 id="bin-sbin-usr-bin-usr-sbin"><a href="#bin-sbin-usr-bin-usr-sbin" class="headerlink" title="bin, sbin, usr/bin, usr/sbin"></a>bin, sbin, usr/bin, usr/sbin</h2><p><strong>bin/</strong> stores commands needed during boot-up that might be needed by normal users. eg. cat, tar…</p>
<blockquote>
<p>Applications <strong>such as Firefox</strong> are stored in /usr/bin, while important system programs and utilities such as the <strong>bash shell</strong> are located in /bin. </p>
</blockquote>
<p><strong>sbin/</strong> is like bin but commands are not intended for normal users. Commands run by LINUX. eg. ifconfig, fdisk…</p>
<p><strong>/usr/bin</strong> is all user commands, while <strong>/usr/sbin</strong> is system admin commands not needed on the root filesystem. e.g. most server programs.</p>
<h2 id="proc"><a href="#proc" class="headerlink" title="proc"></a>proc</h2><p>This filesystem is not on a disk. Exists in the kernels imagination (virtual). </p>
<p>It holds information about kernel parameters and system configuration.</p>
<h2 id="usr"><a href="#usr" class="headerlink" title="usr"></a>usr</h2><p><strong>/usr</strong> usually contains by far the largest share of data on a system. Hence, this is <a target="_blank" rel="noopener" href="http://www.tldp.org/LDP/Linux-Filesystem-Hierarchy/html/usr.html">one of the most important directories</a> in the system as it contains all the <strong>user binaries, their documentation, libraries, header files</strong>, etc…. </p>
<p>Reference: <a target="_blank" rel="noopener" href="http://www.comptechdoc.org/os/linux/usersguide/linux_ugfilestruct.html">Linux Directory Structure</a></p>
<h1 id="A-brief-history"><a href="#A-brief-history" class="headerlink" title="A brief history"></a>A brief history</h1><blockquote>
<p>Originally, there was /bin for programs, /dev for device files and /lib for extra executable code and /usr for user data. </p>
</blockquote>
<blockquote>
<p>The source code was also often provided somewhere under /usr.</p>
</blockquote>
<blockquote>
<p>And there were a few files in the operating system that didn’t fit in any of the existing categories. This included <strong>a passwd file containing users’ passwords</strong>, and <strong>an mtab file written by mount</strong>. </p>
</blockquote>
<blockquote>
<p>At first, there was no connotation that files in <strong>/etc</strong> were configuration files. In these very early days, if you wanted to customize something, you’d be recompiling that part of the system. As Unix got more powerful, there were more and more things you could do without recompiling. As Unix got used more widely, there were more and more things people wanted to do, and they found ways of doing them without going through the trouble of recompiling. </p>
</blockquote>
<blockquote>
<p>So <strong>/etc</strong> filled up with more and more text files that people could and did customize, hence it gradually became the configuration directory.</p>
</blockquote>
<blockquote>
<p>With the creation of <strong>/sbin</strong> to contain programs intended only for the system administrator, <strong>/etc</strong> ended up containing only text files, many of which can be customized by the system administrator. </p>
</blockquote>
<p>Reference: <a target="_blank" rel="noopener" href="http://unix.stackexchange.com/a/56172">Answer by Gilles on StackExchange</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/04/27/learn%20technology/ghost-guide-vps/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Uncle Martian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Blog of Uncle Martian">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/04/27/learn%20technology/ghost-guide-vps/" class="post-title-link" itemprop="url">Quick setup guide of Ghost on VPS</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-04-27 00:00:00" itemprop="dateCreated datePublished" datetime="2015-04-27T00:00:00+00:00">2015-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-09-11 20:10:24" itemprop="dateModified" datetime="2021-09-11T20:10:24+00:00">2021-09-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h1><p>Recently I figured <a target="_blank" rel="noopener" href="https://ghost.org/"><strong>Ghost</strong>, just a blogging platform</a> a pretty cool stuff. </p>
<p>So I got myself a free account from a VPS provider with Ubuntu 14.04 installed and jumped right in. </p>
<h1 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h1><h2 id="download-and-install"><a href="#download-and-install" class="headerlink" title="download and install"></a>download and install</h2><pre><code>wget https://ghost.org/zip/ghost-latest.zip
unzip -d ghost-folder ghost-zip</code></pre><h2 id="set-dependency"><a href="#set-dependency" class="headerlink" title="set dependency"></a>set dependency</h2><pre><code>ch ghost-folder
sudo npm install —-production</code></pre><h2 id="config"><a href="#config" class="headerlink" title="config"></a>config</h2><pre><code>cp config.example.js config.js  
nano config.js</code></pre><p>Now change the url of production to the public IP or domain name. </p>
<h2 id="start-ghost"><a href="#start-ghost" class="headerlink" title="start ghost"></a>start ghost</h2><pre><code>npm start —-production</code></pre><h1 id="Configurations"><a href="#Configurations" class="headerlink" title="Configurations"></a>Configurations</h1><p>to be continued..</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/04/26/learn%20technology/git-tutorial/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Uncle Martian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Blog of Uncle Martian">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/04/26/learn%20technology/git-tutorial/" class="post-title-link" itemprop="url">Git Learning Notes</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-04-26 00:00:00" itemprop="dateCreated datePublished" datetime="2015-04-26T00:00:00+00:00">2015-04-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-09-11 20:10:24" itemprop="dateModified" datetime="2021-09-11T20:10:24+00:00">2021-09-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="git-remote"><a href="#git-remote" class="headerlink" title="git remote"></a>git remote</h1><p><strong>Remote connections are more like bookmarks</strong>. </p>
<p>git remote command is really just an easier way to pass URLs.</p>
<p>When you clone a repository with git clone, it automatically creates a remote connection called <strong>origin</strong>.</p>
<h1 id="git-fetch"><a href="#git-fetch" class="headerlink" title="git fetch"></a>git fetch</h1><p>The git fetch command imports commits from a remote repository into your local repo</p>
<p>The resulting commits are <strong>stored as remote branches</strong> instead of the normal local branches</p>
<p>Fetching is what you do when you want to see what everybody else has been working on. Since fetched content is represented as a remote branch, it has absolutely no effect on your local development work.</p>
<h2 id="Remote-branches"><a href="#Remote-branches" class="headerlink" title="Remote branches"></a>Remote branches</h2><p>Remote branches are just like local branches, except they represent commits from somebody else’s repository. You can check out a remote branch just like a local one, but this <strong>puts you in a detached HEAD state</strong> (just like checking out an old commit). You can think of them as <strong>read-only branches</strong>.</p>
<h1 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h1><p>This is the same as </p>
<pre><code>git fetch &lt;remote&gt; </code></pre><p>followed by </p>
<pre><code>git merge origin/&lt;current-branch&gt;</code></pre><h2 id="alternative"><a href="#alternative" class="headerlink" title="alternative"></a>alternative</h2><pre><code>git pull --rebase &lt;remote&gt; 
(eg. git pull --rebase origin)</code></pre><p>Same as the above command, but <strong>instead of using git merge</strong> to integrate the remote branch with the local one, use <strong>git rebase</strong>.</p>
<h2 id="rebase"><a href="#rebase" class="headerlink" title="rebase"></a>rebase</h2><p>–rebase option can be used to ensure a linear history by preventing unnecessary merge commits.</p>
<p>In fact, pulling with –rebase is such a common workflow that there is a dedicated configuration option for it:</p>
<pre><code>git config --global branch.autosetuprebase always</code></pre><h1 id="git-push"><a href="#git-push" class="headerlink" title="git push"></a>git push</h1><p>After you’re ready to share your commits with others, you (optionally) <strong>clean them up with an interactive rebase</strong>, then push them to the central repository.</p>
<p>You should only push to repositories that have been created with the <strong>–bare flag</strong>. It’s important to <strong>never push to another developer’s repository</strong>.</p>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>The following example describes one of the <strong>standard methods</strong> for publishing local contributions to the central repository.</p>
<pre><code>git checkout master
git fetch origin master
git rebase -i origin/master
# Squash commits, fix up commit messages etc.
git push origin master</code></pre><p>reference: <a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/syncing">Atlassian Tutorials on Git</a></p>
<h1 id="Pull-request"><a href="#Pull-request" class="headerlink" title="Pull request"></a>Pull request</h1><p><strong>pull requests</strong> are a mechanism for a developer to notify team members that they have completed a feature. </p>
<p>But, the pull request is more than just a notification—it’s a dedicated forum for discussing the proposed feature. If there are any problems with the changes, teammates can post feedback in the pull request.</p>
<h2 id="pull-request-anatomy"><a href="#pull-request-anatomy" class="headerlink" title="pull-request anatomy"></a>pull-request anatomy</h2><p>You will need to provide 4 pieces of information to file a pull request: </p>
<ol>
<li>the source repository, </li>
<li>the source branch, </li>
<li>the destination repository, </li>
<li>the destination branch.</li>
</ol>
<h1 id="Example-Process"><a href="#Example-Process" class="headerlink" title="Example Process"></a>Example Process</h1><p>Pull requests can be used in conjunction with the Feature Branch Workflow, the Gitflow Workflow, or the Forking Workflow. But a pull request requires either two distinct branches or two distinct repositories, so they will not work with the Centralized Workflow. </p>
<ol>
<li><p>A developer creates the feature in a dedicated branch in their local repo.</p>
</li>
<li><p>The developer pushes the branch to a public Bitbucket repository.</p>
</li>
<li><p>The developer files a pull request via Bitbucket.<br>The rest of the team reviews the code, discusses it, and alters it.</p>
</li>
<li><p>The project maintainer merges the feature into the official repository and closes the pull request.</p>
</li>
</ol>
<p>reference: <a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/making-a-pull-request">Atlassian Tutorials on Git</a></p>
<h1 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h1><p><strong>git branch</strong> is a way to request a brand new working directory, staging area, and project history. </p>
<h2 id="Git-Vs-SVN"><a href="#Git-Vs-SVN" class="headerlink" title="Git Vs. SVN"></a>Git Vs. SVN</h2><p>Git branches is more lightweight than SVN’s. </p>
<p>Instead of <strong>copying files from directory to directory</strong>, Git stores a branch <strong>as a reference to a commit</strong>. In this sense, a branch represents the tip of a series of commits — not a container for commits. </p>
<h2 id="branch-basics"><a href="#branch-basics" class="headerlink" title="branch basics"></a>branch basics</h2><pre><code>git branch</code></pre><p>List all branches</p>
<pre><code>git branch &lt;branch&gt;</code></pre><p>Create a new branch called <branch> (but don’t checkout).</p>
<pre><code>git checkout -b &lt;new-branch&gt;</code></pre><p>Create and check out <new-branch>. </p>
<pre><code>git branch -d &lt;branch&gt;</code></pre><p>Delete the specified branch (safe).</p>
<pre><code>git branch -D &lt;branch&gt;</code></pre><p>Force delete the specified branch, even if it has unmerged changes. </p>
<pre><code>git branch -m &lt;branch&gt;</code></pre><p>Rename current branch to <branch>.</p>
<h2 id="Detached-HEADs"><a href="#Detached-HEADs" class="headerlink" title="Detached HEADs"></a>Detached HEADs</h2><p>Remember that the HEAD is Git’s way of referring to the current snapshot. </p>
<p>Internally, <strong>git checkout</strong> command simply updates the HEAD to point to either the <strong>specified branch or commit</strong>.</p>
<p>When it points to a branch, Git doesn’t complain, but <strong>when you check out a commit</strong>, it switches into a “detached HEAD” state.</p>
<p>{&lt;1&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen-Shot-2015-05-11-at-8-53-09-PM.png" alt=""></p>
<p>If you were to start developing a feature while in a detached HEAD state, there would be no branch allowing you to get back to it.</p>
<p>However, if you’re just looking at an old commit, it doesn’t really matter if you’re in a detached HEAD state or not.</p>
<h1 id="git-merge"><a href="#git-merge" class="headerlink" title="git merge"></a>git merge</h1><h2 id="merge-basics"><a href="#merge-basics" class="headerlink" title="merge basics"></a>merge basics</h2><pre><code>git merge &lt;branch&gt;</code></pre><p>Merge the branch into the current branch. </p>
<pre><code>git merge --no-ff &lt;branch&gt;</code></pre><p>Merge the branch into the current branch, but always generate a merge commit (even if it was a fast-forward merge).</p>
<h2 id="fast-forward"><a href="#fast-forward" class="headerlink" title="fast forward"></a>fast forward</h2><p>A fast-forward merge can occur when there is a linear path from the current branch tip to the target branch. </p>
<p>{&lt;2&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen-Shot-2015-05-11-at-9-53-17-PM.png" alt=""></p>
<p>Instead of “actually” merging the branches, Git only moves the current branch tip up to the target branch tip. </p>
<h2 id="3-way-merge"><a href="#3-way-merge" class="headerlink" title="3-way merge"></a>3-way merge</h2><p>When there is not a linear path to the target branch, Git will do <strong>3-way merge</strong>. It use a dedicated commit to tie together the two histories. </p>
<p>{&lt;3&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen-Shot-2015-05-11-at-9-57-48-PM.png" alt=""></p>
<p>Three commits are used to generate the merge commit: </p>
<ol>
<li>two branch tips</li>
<li>their common ancestor.</li>
</ol>
<h2 id="Conflicts"><a href="#Conflicts" class="headerlink" title="Conflicts"></a>Conflicts</h2><p>When both branches modify the same file, you’ll resolve the conflicts manually. After that, do a normal commit. </p>
<p>Note that merge conflicts will only occur in the event of a 3-way merge.</p>
<h2 id="Conventions"><a href="#Conventions" class="headerlink" title="Conventions"></a>Conventions</h2><p>While you can use either of these merge strategies, many developers like to use fast-forward merges (facilitated through rebasing) for <strong>small features</strong> or bug fixes, while reserving 3-way merges for the integration of <strong>longer-running features</strong>. </p>
<p>In the latter case, the resulting merge commit serves as a symbolic joining of the two branches.</p>
<h2 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h2><p>3-way merge</p>
<pre><code># Start a new feature
git checkout -b new-feature master

# Edit some files
git add &lt;file&gt;
git commit -m &quot;Start a feature&quot;

# Edit some files
git add &lt;file&gt;
git commit -m &quot;Finish a feature&quot;

# Develop the master branch
git checkout master

# Edit some files
git add &lt;file&gt;
git commit -m &quot;Make some super-stable changes to master&quot;

# Merge in the new-feature branch
git merge new-feature
git branch -d new-feature</code></pre><p>reference: <a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/using-branches">Atlassian Tutorials on Git</a></p>
<h1 id="Git-workflows"><a href="#Git-workflows" class="headerlink" title="Git workflows"></a>Git workflows</h1><p>Remember this is guidelines rather than concrete rules. We’ll cover the first 3:</p>
<ol>
<li><p>Centralized Workflow</p>
</li>
<li><p>Feature Branch Workflow</p>
</li>
<li><p>Gitflow Workflow</p>
</li>
<li><p>Forking Workflow</p>
</li>
</ol>
<h1 id="Centralized-Workflow"><a href="#Centralized-Workflow" class="headerlink" title="Centralized Workflow"></a>Centralized Workflow</h1><ol>
<li><p>Each developer modify and commit into <strong>master branch</strong>.</p>
</li>
<li><p>After the change, <strong>fetch</strong> the updated central commits.</p>
</li>
<li><p><strong>rebase</strong> their changes.</p>
</li>
<li><p>If local changes directly conflict with upstream commits, Git will <strong>pause the rebasing</strong> and asks you to manually resolve the conflicts.</p>
</li>
</ol>
<h2 id="example"><a href="#example" class="headerlink" title="example"></a>example</h2><p>Mary:</p>
<pre><code>git clone ssh://user@host/path/to/repo.git
git status # View the state of the repo
git add &lt;some-file&gt; # Stage a file
git commit # Commit a file&lt;/some-file&gt;
git push origin master</code></pre><p>Bill:</p>
<pre><code>git push origin master
error: failed to push some refs to &apos;/path/to/repo.git&apos;
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Merge the remote changes (e.g. &apos;git pull&apos;)
hint: before pushing again.
hint: See the &apos;Note about fast-forwards&apos; in &apos;git push --help&apos; for details.</code></pre><p>Then, Bill would do:</p>
<pre><code>git pull --rebase origin master
CONFLICT (content): Merge conflict in &lt;some-file&gt;
# Unmerged paths:
# (use &quot;git reset HEAD &lt;some-file&gt;...&quot; to unstage)
# (use &quot;git add/rm &lt;some-file&gt;...&quot; as appropriate to mark resolution)
#
# both modified: &lt;some-file&gt;</code></pre><p>Bill solve some conflicts, then</p>
<pre><code>git add &lt;some-file&gt;
git rebase --continue
## after rebase successful,
git push origin master</code></pre><h1 id="Feature-Branch-Workflow"><a href="#Feature-Branch-Workflow" class="headerlink" title="Feature Branch Workflow"></a>Feature Branch Workflow</h1><p>The core idea is that <strong>all feature development take place in a dedicated branch</strong> instead of the master branch. So that:</p>
<ol>
<li><p>a branch is a feature, having highly-focused purpose.</p>
</li>
<li><p>master branch will never contain broken code</p>
</li>
<li><p>possible to leverage <strong>pull requests</strong></p>
</li>
</ol>
<p>Note: Feature branches can and should be <strong>pushed to the central repository</strong>.</p>
<h2 id="pull-request"><a href="#pull-request" class="headerlink" title="pull request"></a>pull request</h2><p>Once someone completes a feature, they don’t immediately merge it into master.</p>
<p>Instead, they push feature branch to central server and <strong>file a pull request</strong>.</p>
<p>Code review shall happen here.</p>
<h2 id="example-1"><a href="#example-1" class="headerlink" title="example"></a>example</h2><p>Mary creates and checkout a branch if it doesn’t already exist (with -b):</p>
<pre><code>git checkout -b marys-feature master
# edits, stages, and commits changes
git status
git add &lt;some-file&gt;
git commit
git push -u origin marys-feature</code></pre><p>-u is used to add it as a remote tracking branch. Now her feature is finished, she’ll do:</p>
<pre><code>git push</code></pre><p>Then a pull request.</p>
<p>After the code review, Mary still can work on this branch like she did before, or even Bill can pull marys-feature into his local repository and work on it. Until the pull request is accepted, either Mary or Bill do:</p>
<pre><code>git checkout master
git pull
git pull origin marys-feature
git push</code></pre><p>{&lt;1&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen%20Shot%202015-05-15%20at%2011.18.54%20AM.png" alt=""></p>
<blockquote>
<p><strong>git pull origin marys-feature</strong> merges central repository’s copy of marys-feature to local master. (You could also use a simple <strong>git merge marys-feature</strong>, but the command shown above makes sure you’re always pulling the most up-to-date version of the feature branch.)</p>
</blockquote>
<blockquote>
<p>If you find it hard to understand, read <a target="_blank" rel="noopener" href="http://superuser.com/a/163048">Pull for another Git branch without switching, from superuser.com</a>:</p>
</blockquote>
<pre><code>git checkout live
git pull origin master</code></pre><blockquote>
<blockquote>
<p>This will attempt a merge of the remote master and your live branch.</p>
</blockquote>
</blockquote>
<h2 id="discussion-merge-vs-rebase"><a href="#discussion-merge-vs-rebase" class="headerlink" title="discussion: merge vs. rebase"></a>discussion: merge vs. rebase</h2><p>This process often results in a merge commit. Some developers like this because it’s like <strong>a symbolic joining of the feature</strong> with the rest of the code base. But, if you’re partial to a linear history, it’s possible to <strong>rebase the feature</strong> onto the tip of master before executing the merge, resulting in a fast-forward merge.</p>
<h1 id="Gitflow-Workflow"><a href="#Gitflow-Workflow" class="headerlink" title="Gitflow Workflow"></a>Gitflow Workflow</h1><p>Gitflow Workflow defines a <strong>strict branching model</strong> designed around the project release. It assigns <strong>very specific roles</strong> to different branches and defines how and when they should interact.</p>
<h2 id="master-and-develop"><a href="#master-and-develop" class="headerlink" title="master and develop"></a>master and develop</h2><p>The master branch stores the official release history, and the develop branch serves as an integration branch for features.</p>
<p><strong>Tag all commits</strong> in the master branch with <strong>a version number</strong>.</p>
<h2 id="feature-branches"><a href="#feature-branches" class="headerlink" title="feature branches"></a>feature branches</h2><p>Each new feature should reside in its own branch, which can be pushed to the central repository for backup/collaboration. But, instead of branching off of master, <strong>feature branches use develop as their parent branch</strong>.</p>
<blockquote>
<p>Note that feature branches combined with the develop branch is, for all intents and purposes, the <strong>Feature Branch Workflow</strong>.</p>
</blockquote>
<p>{&lt;2&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen%20Shot%202015-05-15%20at%204.19.16%20PM.png" alt=""></p>
<blockquote>
<p>branch off: develop</p>
<p>merge into: develop</p>
</blockquote>
<h2 id="release-branches"><a href="#release-branches" class="headerlink" title="release branches"></a>release branches</h2><p>For release, you fork a release branch off of develop, and prepare:</p>
<ol>
<li>bug fixes</li>
<li>documentation generation</li>
<li>other release-oriented tasks</li>
</ol>
<p><strong>No new features</strong> can be added after this point.</p>
<p>Once ready for release, this branch will get <strong>merged into master</strong> and tagged with a version number. In addition, it should be <strong>merged back into develop</strong>.</p>
<p>{&lt;3&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen%20Shot%202015-05-15%20at%204.27.35%20PM.png" alt=""></p>
<blockquote>
<p>branch off: develop</p>
<p>merge into: master, develop</p>
<p>naming convention: release-* or release/*</p>
</blockquote>
<h2 id="hotfix-branches"><a href="#hotfix-branches" class="headerlink" title="hotfix branches"></a>hotfix branches</h2><p>Maintenance or “hotfix” branches are used to quickly patch production releases.</p>
<p>This is the only branch that should <strong>fork directly off of master</strong>.</p>
<p>Once fixed, it’s <strong>merged into both master and develop</strong> (or the current release branch), and master should be tagged with an updated version number.</p>
<p>You can think of maintenance branches as ad hoc release branches that work directly with master.</p>
<p>{&lt;4&gt;}<img src="https://dl.dropboxusercontent.com/u/23764314/ghost_immortalfish/Screen%20Shot%202015-05-15%20at%204.32.26%20PM.png" alt=""></p>
<blockquote>
<p>branch off: master</p>
<p>merge into: master, develop</p>
</blockquote>
<h2 id="example-2"><a href="#example-2" class="headerlink" title="example"></a>example</h2><h3 id="create-master-and-develop"><a href="#create-master-and-develop" class="headerlink" title="create master and develop"></a>create master and develop</h3><pre><code>git branch develop
git push -u origin develop</code></pre><p><strong>develop</strong> will contain the complete history of the project, whereas <strong>master</strong> will contain an abridged version.</p>
<p>Bill now clone the central repository and create a tracking branch for develop:</p>
<pre><code>git clone ssh://user@host/path/to/repo.git
git checkout -b develop origin/develop</code></pre><h3 id="develop-stage"><a href="#develop-stage" class="headerlink" title="develop stage"></a>develop stage</h3><p>Now Mary and Bill both work on their own features:</p>
<pre><code>git checkout -b some-feature develop
# make changes
git status
git add &lt;some-file&gt;
git commit</code></pre><p>Once Mary finishes a feature, she can do a pull request, or this:</p>
<pre><code>git pull origin develop
git checkout develop
git merge some-feature
git push
git branch -d some-feature</code></pre><h3 id="release-stage"><a href="#release-stage" class="headerlink" title="release stage"></a>release stage</h3><p>While Bill is still working on his feature, Mary starts to prepare the first official release</p>
<pre><code>git checkout -b release-0.1 develop</code></pre><p>She’ll clean up the release, test everything, update the documentation. Now the release is feature-frozen.</p>
<p>Once the release is ready, Mary merges it into master and develop, then deletes the release branch. (can also do pull request here)</p>
<pre><code>git checkout master
git merge release-0.1
git push
git checkout develop
git merge release-0.1
git push
git branch -d release-0.1</code></pre><p>When merging something into master, you should tag the commit for easy reference:</p>
<pre><code>git tag -a 0.1 -m &quot;Initial public release&quot; master
git push --tags</code></pre><h3 id="maintenance-stage"><a href="#maintenance-stage" class="headerlink" title="maintenance stage"></a>maintenance stage</h3><p>If a bug is found:</p>
<pre><code>git checkout -b issue-#001 master
# Fix the bug
git checkout master
git merge issue-#001
git push</code></pre><p>Then include it in develop, and delete the branch:</p>
<pre><code>git checkout develop
git merge issue-#001
git push
git branch -d issue-#001</code></pre><h1 id="Final-note-on-workflows"><a href="#Final-note-on-workflows" class="headerlink" title="Final note on workflows"></a>Final note on workflows</h1><p>They are not hard-and-fast rules for using Git in the workplace. So, don’t be afraid to adopt some aspects of a workflow and disregard others. The goal should always be to make Git work for you, not the other way around.</p>
<p>Reference: <a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/comparing-workflows">Comparing Workflows by atlassian</a></p>
<h1 id="Forking"><a href="#Forking" class="headerlink" title="Forking"></a>Forking</h1><p>We have discussed about Centralized, Feature branch &amp; Gitflow in <a href="/git-workflows-feature-branch-gitflow-and-fork/">previous post</a>. </p>
<p>Now, Forking Workflow is <strong>fundamentally different</strong> than the other workflows. Instead of using a single server-side repository to act as the “central” codebase, it gives every developer a server-side repository. </p>
<p>Developers push to their own server-side repositories, and <strong>only the project maintainer</strong> can push to the official repository. </p>
<p>This allows the maintainer to <strong>accept commits</strong> from any developer without giving them write access to the official codebase.</p>
<p>This is an ideal workflow for open source projects.</p>
<h2 id="How-It-Works"><a href="#How-It-Works" class="headerlink" title="How It Works"></a>How It Works</h2><ol>
<li><p>developer fork the official repository to create a copy of it on the server.</p>
</li>
<li><p>no other developers are allowed to push to it, but they can pull changes from it</p>
</li>
<li><p>after he makes changes, he commits and push the commit to their own public repository - not the official one. Then, they file a pull request with the main repository.</p>
</li>
<li><p>maintainer pulls the contributor’s changes into their local repository, checks to make sure it doesn’t break the project, merges it into his local master branch, then pushes the master branch to the official repository </p>
</li>
</ol>
<h2 id="example-3"><a href="#example-3" class="headerlink" title="example"></a>example</h2><p>For a thorough example, read the ref link below. </p>
<p>Reference link: <a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/comparing-workflows/forking-workflow">Forking Workflow by atlassian.com</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/04/24/learn%20technology/vi-tutorial/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Uncle Martian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Blog of Uncle Martian">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/04/24/learn%20technology/vi-tutorial/" class="post-title-link" itemprop="url">Vi tutorial</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-04-24 00:00:00" itemprop="dateCreated datePublished" datetime="2015-04-24T00:00:00+00:00">2015-04-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-09-11 20:10:24" itemprop="dateModified" datetime="2021-09-11T20:10:24+00:00">2021-09-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="About-Vi"><a href="#About-Vi" class="headerlink" title="About Vi"></a>About Vi</h1><p>Vi is a text editor built written in C, for Unit/Linux since 1976. It is default for Unix systems.</p>
<blockquote>
<p>Over the years since its creation, vi became the de facto standard Unix editor and a nearly undisputed hacker favorite[citation needed] outside of MIT until the rise of Emacs after about 1984.</p>
<p>– <cite>Wikipedia<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Vi">1</a></cite></p>
</blockquote>
<h1 id="Why-Vi"><a href="#Why-Vi" class="headerlink" title="Why Vi"></a>Why Vi</h1><p>I have to use Vi when I setup my VPS for web hosting. Vi confuses me a while since I have no prior experience. Over time, I came to realize that using Vi is a must for a developer, so let’s don’t hesitate to jump at it!</p>
<p>We’ll get started by learning some of the basics.</p>
<h1 id="Getting-started"><a href="#Getting-started" class="headerlink" title="Getting started"></a>Getting started</h1><p>First of all, Vi have 2 modes: <strong>Command Mode</strong> and <strong>Insert Mode</strong>.</p>
<p>Remember how to switch mode:</p>
<ol>
<li>press ‘i’ for Insert Mode</li>
<li>press “Esc” for Command Mode</li>
</ol>
<h2 id="3-basic-file-commands"><a href="#3-basic-file-commands" class="headerlink" title="3 basic file commands"></a>3 basic file commands</h2><ol>
<li>:w - save</li>
<li>:q - quit</li>
<li>:q! - quit without saving</li>
</ol>
<h2 id="Move-the-cursor"><a href="#Move-the-cursor" class="headerlink" title="Move the cursor"></a>Move the cursor</h2><p>When in command mode, the key h, j, k and l can move the cursor, just like your arrow key.</p>
<ol>
<li>h - Cursor left</li>
<li>j - Cursor down</li>
<li>k - Cursor up</li>
<li>l - Cursor right</li>
</ol>
<h2 id="Delete"><a href="#Delete" class="headerlink" title="Delete"></a>Delete</h2><p>In command mode:</p>
<ol>
<li>x - delete 1 char</li>
<li>dd - delete 1 line</li>
</ol>
<p>Difference between ‘backspace’ and ‘x’:</p>
<ol>
<li>backspace - works in insert mode. Can only delete chars inserted in current session.</li>
<li>x - works in command mode. Can delete anything.</li>
</ol>
<h2 id="Repeat-operation"><a href="#Repeat-operation" class="headerlink" title="Repeat operation"></a>Repeat operation</h2><p>In command mode, input a number then the command, the command with be repeat corresponding number of times. Eg “20dd” deletes 20 lines.</p>
<h1 id="Last-word"><a href="#Last-word" class="headerlink" title="Last word"></a>Last word</h1><p>This definitely is not a thorough tutorial, but it’s enough for basic needs of a system admin. I learn these from the 2 tutorials from <a target="_blank" rel="noopener" href="http://www.unix-manuals.com/tutorials/vi/vi-in-10-1.html">unix-manuals</a></p>
<p>Hope it helps you.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/09/18/general%20knowledge/%E4%BF%A1%E6%81%AF%E4%B8%8D%E5%AF%B9%E7%A7%B0%E4%B8%8E%E5%85%AC%E5%8A%A1%E5%91%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Uncle Martian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Blog of Uncle Martian">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/09/18/general%20knowledge/%E4%BF%A1%E6%81%AF%E4%B8%8D%E5%AF%B9%E7%A7%B0%E4%B8%8E%E5%85%AC%E5%8A%A1%E5%91%98/" class="post-title-link" itemprop="url">【摘抄】信息不对称与公务员</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-09-18 00:00:00" itemprop="dateCreated datePublished" datetime="2014-09-18T00:00:00+00:00">2014-09-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-09-11 20:10:24" itemprop="dateModified" datetime="2021-09-11T20:10:24+00:00">2021-09-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="lt-lt-1984-gt-gt"><a href="#lt-lt-1984-gt-gt" class="headerlink" title="&lt;&lt;1984&gt;&gt;"></a>&lt;&lt;1984&gt;&gt;</h1><p>他想，他已经死了。他觉得只有到现在，当他开始能够把他的思想理出头绪的时候，他才采取了决定性的步骤。一切行动的后果都包括在行动本身里面。他写道：思想罪不会带来死亡：思想罪本身就是死亡。</p>
<h1 id="HK-China"><a href="#HK-China" class="headerlink" title="HK China"></a>HK China</h1><p>那时有关 中国对香港的国家主权体现 官方定义所发生的唯一一次大风波 是邓小平对从1997年6月30日午夜开始 中国军队是否在香港驻扎的问题公开发怒 整整30年之前 就在中英交接条约的最后文本敲定之际 邓小平当着所有被接见的记者们的面 怒斥两个领导人——黄华和耿飚 这两位已经表示解放军在港不驻军 以免影响国际社会对香港的信心 而邓小平在镜头前怒斥耿飊及黄华 指在香港不驻军是 胡说八道 这令在场的人大惊失色 更是令香港惊慌失措 英国也傻了眼</p>
<p><a target="_blank" rel="noopener" href="http://www.ftchinese.com/story/00105795">http://www.ftchinese.com/story/00105795</a></p>
<h1 id="公务员-信息不对称"><a href="#公务员-信息不对称" class="headerlink" title="公务员 信息不对称"></a>公务员 信息不对称</h1><p>为什么那个村里中学还没毕业就出去闯荡的狗蛋，十几年后衣锦还乡，开着李华看一辈子报纸喝一辈子茶水，拿一辈子hui色收入都买不起的某订制级豪车，乡亲们一瞬间忘记了那个从小到大奖状贴了一墙的尖子生李华，之前对李华考上公务员的种种夸耀，恨不能全部收回来，贴在狗蛋身上，而李华只能望着绝尘而去，怀疑这一生？</p>
<p>村民甚至分不清楚公务员的概念，想当然地以为，当官=公务员=有钱。而在这种理解程度上，不管李华当的是村支书，还是一个比较新潮的公务员，比如可以是市妇联主任的助手，或者是海关安检看X光扫描的小兵，在村民对于这种没有对公务员的判定范围有一个清楚的了解下，那他们听了后，会摆出”O“的嘴型与我懂得的表情，然后笑嘻嘻地说：”当官好啊。“</p>
<p>在狗蛋没回来之前，李华拥有对公务员信息解释的垄断权。<br>显而易见，李华信息量要大于村民。<br><strong>这就是一种信息不对称</strong>。</p>
<p>李华认为自己是成功，还是失败，这都不重要，<strong>重要的是，他在极力维持这种信息不对称，无论是出于什么目的</strong>。但是，不幸的是，狗蛋的出现，打破了这种信息不对称</p>
<p>狗蛋从最直观的角度，满足了村民心底原始级欲望（此处为金钱），以一个胜利者（信息不对称破坏者）的姿态，打破了李华对于成功定义的垄断。在狗蛋没回来之前，大家都认为，从这小山沟沟里走出去，并能混出个样样，取得成功唯一的途径便是像李华那样用功读书，将来成为一个官（公务员）。 </p>
<p>而走出这个山沟，对成功的理解则不一样。<strong>这，正是一种信息不对称</strong>。</p>
<p>既然发觉到信息不对称，并有可以逆转这种不对称，甚至有可以打破不对称规则的机会，为什么人们就是不做？</p>
<p>答案很简单：自我否定与，对短期收益的认可，大过了长期收益的认可。</p>
<p>因为功利心在作祟，使我们丧失了对于一件事物基本的思辨能力，以至于，哪怕这件事只要坚持下来，并长期去做，就会获得巨大收益，但仅仅因为其需求一定量的时间付出，便放弃了这件事。</p>
<p><a target="_blank" rel="noopener" href="http://www.zhihu.com/question/24709876/answer/28701787">http://www.zhihu.com/question/24709876/answer/28701787</a></p>
<h1 id="中国护照bug"><a href="#中国护照bug" class="headerlink" title="中国护照bug"></a>中国护照bug</h1><p>国内很多敏感人物可以避过bug通行全球，同时保留多国籍。这些敏感人物人手两/多个护照，一个中国的一个圣基茨及尼维斯的再加上一个深圳户口，因为深圳户口有香港“一签多行”的功能，他们先利用港澳通行证到香港，再用第二本护照合法离境，返回时仍然用港澳通行证从香港入境。巧妙地避过了出入境记录的bug，既不用办签证也避免了被国内政府发现第二国籍。</p>
<p>国内的出入境处只知道他们出入了香港，并不知道他们在香港还去了别的国家，从而避免被注销国籍。 </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/08/14/general%20knowledge/%E6%98%8E%E6%9C%9D%E9%82%A3%E4%BA%9B%E4%BA%8B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Uncle Martian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Blog of Uncle Martian">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2014/08/14/general%20knowledge/%E6%98%8E%E6%9C%9D%E9%82%A3%E4%BA%9B%E4%BA%8B2/" class="post-title-link" itemprop="url">【读书笔记】明朝那些事2</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2014-08-14 00:00:00" itemprop="dateCreated datePublished" datetime="2014-08-14T00:00:00+00:00">2014-08-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-09-11 20:10:24" itemprop="dateModified" datetime="2021-09-11T20:10:24+00:00">2021-09-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="汤和"><a href="#汤和" class="headerlink" title="汤和"></a>汤和</h1><p>汤和就这样成了朱重八的第一个战友。他在今后的日子里将陪同朱重八一起走完这条艰苦的道路。然而汤和也绝对不会想到，自己居然是唯一一个陪他走完这条路的人。</p>
<p>他幼年时候的朋友汤和写了一封信给他，信的内容是自己做了起义军的千户，希望朱重八也来参加起义军，共图富贵。朱重八看过后，不动声色，将信烧掉了。然而晚上，他的师兄告诉他，有人已经知道了他看义军信件的事情，准备去告发他。朱重八终于被逼上了绝路。</p>
<h1 id="徐达"><a href="#徐达" class="headerlink" title="徐达"></a>徐达</h1><p>徐达是明朝的优秀将领，他平民出身，却是不世出的军事天才，他从小兵干起，跟随朱元璋出生入死，在残酷的战争中成长为元末明初最优秀的将领。</p>
<p>他善于指挥大军团作战，深通谋略，为人宽厚，历数十役，战必胜、攻必取，与北元第一名将王保保的作战更是他军事生涯的最高峰。他告诉我们，一个平凡的人经过自己的努力，也能成为叱咤风云的名将。</p>
<h1 id="李善长"><a href="#李善长" class="headerlink" title="李善长"></a>李善长</h1><p>念及李善长跟随自己多年，在临刑前朱元璋见了李善长最后一面。朱元璋坐在自己的宝座上，看着跪在下面的李善长。这个人曾经是我最信任的部下，现在我要杀他。</p>
<p>李善长跪在地上，抬头望着朱元璋。这个人曾经是我最真诚的朋友，现在他要杀我。</p>
<p>还能说什么呢，什么都不用说了。李善长看着朱元璋，几十年前，他投奔了这个人，他们彻夜长谈，相见恨晚，共同谋划着将来的远大前景。那一年，李善长四十岁，朱元璋二十六岁。他向现在的皇帝朱元璋叩头谢恩，走出了大殿。</p>
<p>洪武二十三年（1390），朱元璋杀李善长，夷其三族。</p>
<h1 id="大诰"><a href="#大诰" class="headerlink" title="大诰"></a>大诰</h1><p>比如张三犯了罪，应该处以刑罚，县官已经定罪，下一步本来应该是该坐牢的去坐牢、该流放的流放，但差役却不忙，他们还要办一件事，那就是把张三押到他自己的家中，去找一样东西。找什么呢？就是这本《大诰》，如果找到了，那就恭喜张三了：如果本来判的流放，就不用去了，回牢房坐牢；如果是杀头的罪，那就能捡一条命。</p>
<p>(明朝末年时，如果有人家还保存有大诰，那么在犯流罪以下罪行时可以减轻一等处罚。)</p>
<h1 id="严格的秩序"><a href="#严格的秩序" class="headerlink" title="严格的秩序"></a>严格的秩序</h1><p>朱元璋要建立的是一个等级分明、秩序严谨、近乎僵化的社会结构，在这个结构中，农民只能种地，商人只能经商，官员按照规定干好自己的工作，无论谁都不能越界。军户、民户、匠户的划分。。。</p>
<p>The consequences: </p>
<p>朱元璋废除了丞相制度，限制大臣的权力，然而明朝的内阁比以往的任何丞相都更专权。朱元璋规定老百姓不得四处流动，然而明朝中后期流民成风，四处游荡，丝毫不受束缚。</p>
<p>朱元璋颁布了抑制商业发展的条令，并规定商人不得穿着绸纱等贵重衣物，然而大规模的工商业发展正是从明朝开始，而那些本应该是社会最底层的商人却穿金戴银，甚至登堂入室，为官经商。</p>
<p>朱元璋严令太监不得干政，可是明朝的阉宦却个个都是重量级的（这与他废除相权有关）。朱元璋给他的所有子孙都准备了爵位和俸禄，然而一百多年后，他的很多后代都家道中落，穷困潦倒。</p>
<h1 id="屠城"><a href="#屠城" class="headerlink" title="屠城"></a>屠城</h1><p>屠城是为了让对手屈服。但他们的缺德之处在于，不投降他们必然会屠城，但是投降的他们也并不放过。</p>
<p>蒙古的狂潮席卷全球，不过欧洲人似乎更有自律精神，他们认为无端出来这么些恐怖的家伙，是因为自己犯的错太多，上帝用鞭子来教训自己，所以他们称呼蒙古人为“上帝之鞭”。</p>
<p>这一荣誉称号的授予在欧洲历史上是第二次，第一次是给了匈奴王阿提拉。历史学家们给了蒙古军队的这种屠杀行为一个非常确切的定义——国家恐怖主义。</p>
<h1 id="行为艺术，和屠杀数据"><a href="#行为艺术，和屠杀数据" class="headerlink" title="行为艺术，和屠杀数据"></a>行为艺术，和屠杀数据</h1><p>西亚战役中，将被杀死的人脑袋砍下来，堆成一座三角形山。</p>
<p>此外他们也是颇有些黑色幽默感的，比如在攻克巴格达后，他们将最高领袖哈里发关在一座装满金银珠宝的房子里，让他活活饿死。</p>
<p>蒙古攻灭金国时 金全盛时（1207）有户768万，元灭金时（1235）剩下87万户，下降89%   </p>
<p>蒙古灭南宋时 南宋嘉定十六年（1223）有户1267万，元灭宋时剩下937万，下降26% （这么看来，蒙古对南宋还是相当宽大的）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Uncle Martian</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">51</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Uncle Martian</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>

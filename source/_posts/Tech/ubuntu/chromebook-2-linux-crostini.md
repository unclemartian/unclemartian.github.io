---
title: 【Tech】 Chromebook Tutorial 2 - Linux (Crostini)
date: 2022-03-26 00:00:00
tags: ubuntu
---

# Overview 

__Crostini__ = [Linux on Chrome OS](https://chromeos.dev/en/linux). 

这个 Linux 系统是基于 Debian 11 的。所以，很多 commands 跟 Ubuntu 很像。

> As of March 2022, ChromeOS 99 have __Debian 11 (bullseye)__ installed by default (as of March 2022).

# File Share

Add symlink: 

    ln -s <real folder> <link folder>

If you save something to __link folder__, it will actually save it into __real folder__.

## 换源 Change source

First, check the OS vesion：

    ngu@penguin:~$ cat /etc/os-release 

Got：

    PRETTY_NAME="Debian GNU/Linux 11 (bullseye)"
    NAME="Debian GNU/Linux"
    VERSION_ID="11"
    VERSION="11 (bullseye)"
    VERSION_CODENAME=bullseye
    ID=debian
    HOME_URL="https://www.debian.org/"
    SUPPORT_URL="https://www.debian.org/support"
    BUG_REPORT_URL="https://bugs.debian.org/"

Old source.list: 

    # Generated by distrobuilder
    deb https://deb.debian.org/debian bullseye main
    deb https://deb.debian.org/debian bullseye-updates main
    deb https://deb.debian.org/debian-security/ bullseye-security main

Replace it with: 

    deb https://mirrors.aliyun.com/debian/ bullseye main non-free contrib
    deb-src https://mirrors.aliyun.com/debian/ bullseye main non-free contrib

    deb https://mirrors.aliyun.com/debian-security/ bullseye-security main
    deb-src https://mirrors.aliyun.com/debian-security/ bullseye-security main

    deb https://mirrors.aliyun.com/debian/ bullseye-updates main non-free contrib
    deb-src https://mirrors.aliyun.com/debian/ bullseye-updates main non-free contrib

    deb https://mirrors.aliyun.com/debian/ bullseye-backports main non-free contrib
    deb-src https://mirrors.aliyun.com/debian/ bullseye-backports main non-free contrib

Then: 

    sudo apt update

# Install VSCode

    sudo apt-get update
    sudo apt-get install -y gnome-keyring

Then [download the deb](https://code.visualstudio.com/download) and double click to install.

# Install Work Software

Tencent meeting does not work, yet. (Wayland Protocol issue)

![](/images/chromebook-crostini-wemeeting.png)

But Feishu works like a charm, so far.

# Install Firefox

Firefox somehow was not in APT repository, need to [manually install](https://blog.csdn.net/weixin_38428827/article/details/104066754).

First, find out [the download link](https://www.mozilla.org/zh-CN/firefox/all/#product-desktop-release)

Then:

    curl -O https://download-installer.cdn.mozilla.net/pub/firefox/releases/98.0.2/linux-x86_64/en-US/firefox-98.0.2.tar.bz2
    tar -xjvf firefox-98.0.2.tar.bz2 firefox/
    sudo mv firefox /opt/
    sudo ln -s /opt/firefox/firefox /usr/bin/firefox

Installation finished, but you might need additional package: 

    sudo apt-get install libdbus-glib-1-2
    firefox

![](/images/chromebook-crostini-firefox-chinese.png)

However, Chinese display still got issues. Install font: 

    sudo apt install fonts-hanazono

Last step, add firefox icon: 

    cd /usr/share/applications/
    sudo vi firefox.desktop

Add content: 

    [Desktop Entry]
    Name=firefox
    Comment=firefox
    Exec=/opt/firefox/firefox
    Icon=/opt/firefox/browser/chrome/icons/default/default128.png
    Terminal=false
    Type=Application
    Categories=Application;
    Encoding=UTF-8
    StartupNotify=true

Done. 